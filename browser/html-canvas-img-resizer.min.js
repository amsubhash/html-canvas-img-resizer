var htmlCanvasImgResizer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.default=function(e){var t=e.dragCornerBoxSize||20,n=e.cropImageWatcher,o=e.cropMaskColor||"rgba(0, 0, 0, 0.5)",i=e.cropCornerColor||"green",a=e.cropCornerLineWidth||5,s=function(e,t){var n=document.getElementById(e);if(!n)throw Error("Please provide a valid html element Id to work with");var r=document.createElement("div");r.setAttribute("style","width:100%; height:100%; position:relative"),n.appendChild(r);var o=document.createElement("canvas");o.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var i=document.createElement("canvas");i.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var a=document.createElement("canvas");a.setAttribute("style","display:none");var s=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div");return h.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: sw-resize; background: transparent; stroke: transparent;"),l.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: se-resize; background: transparent; stroke: transparent;"),d.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: ne-resize; background: transparent; stroke: transparent;"),s.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: nw-resize; background: transparent; stroke: transparent;"),p.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: all-scroll; background: transparent; stroke: transparent;"),r.appendChild(a),r.appendChild(o),r.appendChild(i),r.appendChild(p),r.appendChild(h),r.appendChild(l),r.appendChild(d),r.appendChild(s),{exportCanvas:a,imageCanvas:o,cropCanvas:i,selectionDiv:p,bottomRightCornerDiv:l,bottomLeftCornerDiv:h,topLeftCornerDiv:s,topRightCornerDiv:d,imageDiv:n}}(e.id,t),d=s.imageDiv,l=s.exportCanvas,h=s.imageCanvas,p=s.cropCanvas,c=s.selectionDiv,u=s.bottomRightCornerDiv,v=s.bottomLeftCornerDiv,m=s.topLeftCornerDiv,f=s.topRightCornerDiv,x=h.getContext("2d");if(!x)throw Error("Not able to create canvas");var y=p.getContext("2d");if(!y)throw Error("Not able to create canvas");var g,w=l.getContext("2d");if(!w)throw Error("Not able to create canvas");var b=!1,E=!1,C=!1,L=!1,T=!1,k=new Image;return e.imageURL&&(k.src=e.imageURL),k.onload=function(){var e=d.clientWidth;d.style.height=k.height*(k.width/e)+"px",h.width=k.width,h.height=k.height,p.width=h.clientWidth,p.height=h.clientHeight,p.addEventListener("mouseup",R,!1),p.addEventListener("mousemove",A,!1),x.drawImage(k,0,0),v.addEventListener("mousedown",(function(){E=!0}),!1),v.addEventListener("mouseup",R,!1),v.addEventListener("mousemove",A,!1),m.addEventListener("mousedown",(function(){b=!0}),!1),m.addEventListener("mouseup",R,!1),m.addEventListener("mousemove",A,!1),f.addEventListener("mousedown",(function(){C=!0}),!1),f.addEventListener("mouseup",R,!1),f.addEventListener("mousemove",A,!1),u.addEventListener("mousedown",(function(){L=!0}),!1),u.addEventListener("mouseup",R,!1),u.addEventListener("mousemove",A,!1),c.addEventListener("mousedown",(function(){T=!0}),!1),c.addEventListener("mouseup",R,!1),c.addEventListener("mousemove",A,!1);var s={x:0,y:0,w:h.clientWidth,h:h.clientHeight},D=r({canvasWidth:h.clientWidth,canvasHeight:h.clientHeight},s);function R(){b=C=E=L=T=!1}setInterval((function(){var e=h.clientWidth,t=h.clientHeight;if(D.canvasHeight!=t||D.canvasWidth!=e){var n=e/D.canvasWidth,o=t/D.canvasHeight;D=r(r({},s),{canvasHeight:t,canvasWidth:e}),p.width=e,p.height=t,s.w*=n,s.h*=o,M()}}),500),g=function(){var e=k.width/p.width,t=k.height/p.height,r=s.x*e,o=s.y*t,i=s.w*e,a=s.h*t;l.width=i,l.height=a,w.drawImage(k,r,o,i,a,0,0,i,a),n&&n(l.toDataURL())};var W=0,I=0,O=0,j=0;function A(e){if(!d)throw Error("Not able to create canvas");var n=e.pageX-d.offsetLeft,r=e.pageY-d.offsetTop,o=!1;b?(s.w+=s.x-n,s.h+=s.y-r,s.x=n,s.y=r,o=!0):C?(s.w=Math.abs(s.x-n),s.h+=s.y-r,s.y=r,o=!0):E?(s.w+=s.x-n,s.h=Math.abs(s.y-r),s.x=n,o=!0):L?(s.w=Math.abs(s.x-n),s.h=Math.abs(s.y-r),o=!0):T&&(s.x+=n-W,s.y+=r-I,o=!0),o&&(s.w<2*t&&(s.w=2*t,s.x=O),s.h<2*t&&(s.h=2*t,s.y=j),s.x<0&&(s.x=0),s.x+s.w>p.width&&(s.x=p.width-s.w),s.y<0&&(s.y=0),s.y+s.h>p.height&&(s.y=p.height-s.h),M()),W=n,I=r,O=s.x,j=s.y}function M(){if(!y)throw Error("Not able to create canvas");y.clearRect(0,0,p.width,p.height),y.fillStyle=o,y.strokeStyle=i,y.lineWidth=a,y.fillRect(0,0,p.width,p.height),y.clearRect(s.x,s.y,s.w,s.h),y.beginPath(),y.moveTo(s.x,s.y+t),y.lineTo(s.x,s.y),y.lineTo(s.x+t,s.y),y.moveTo(s.x+s.w-t,s.y),y.lineTo(s.x+s.w,s.y),y.lineTo(s.x+s.w,s.y+t),y.moveTo(s.x+s.w,s.y+s.h-t),y.lineTo(s.x+s.w,s.y+s.h),y.lineTo(s.x+s.w-t,s.y+s.h),y.moveTo(s.x+t,s.y+s.h),y.lineTo(s.x,s.y+s.h),y.lineTo(s.x,s.y+s.h-t),y.stroke(),m.style.top=f.style.top=s.y+"px",m.style.left=v.style.left=s.x+"px",f.style.left=u.style.left=s.x+s.w-t+"px",v.style.top=u.style.top=s.y+s.h-t+"px",c.style.top=s.y+"px",c.style.left=s.x+"px",c.style.width=s.w+"px",c.style.height=s.h+"px",g()}M()},{getImage:function(){return l.toDataURL()},setImageURL:function(e){k.src=e}}}}]);
//# sourceMappingURL=html-canvas-img-resizer.min.js.map