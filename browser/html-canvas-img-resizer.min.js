var htmlCanvasImgResizer=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=document.getElementById(e.id);if(!t)throw Error("Please provide a valid html element Id to work with");var r=document.createElement("div");r.setAttribute("style","width:100%; height:100%; position:relative"),t.appendChild(r);var n=document.createElement("canvas");n.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var o=document.createElement("canvas");o.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var a=document.createElement("canvas");a.setAttribute("style","display:none"),r.appendChild(n),r.appendChild(o),r.appendChild(a);var i=n.getContext("2d");if(!i)throw Error("Not able to create canvas");var l=o.getContext("2d");if(!l)throw Error("Not able to create canvas");var h=function(){return""},c=!1,u=!1,d=!1,f=!1,s=new Image;return s.src=e.imageURL,s.onload=function(){n.width=s.width,n.height=s.height,o.width=n.clientWidth,o.height=n.clientHeight,i.drawImage(s,0,0),o.addEventListener("mousedown",(function(e){if(!t)throw Error("Not able to create canvas");var n=e.pageX-t.offsetLeft,a=e.pageY-t.offsetTop;window.cropCanvas=o,v(n,r.x)&&v(a,r.y)?c=!0:v(n,r.x+r.w)&&v(a,r.y)?d=!0:v(n,r.x)&&v(a,r.y+r.h)?u=!0:v(n,r.x+r.w)&&v(a,r.y+r.h)&&(f=!0);y()}),!1),o.addEventListener("mouseup",(function(){c=d=u=f=!1}),!1),o.addEventListener("mousemove",(function(e){if(!t)throw Error("Not able to create canvas");var n=e.pageX-t.offsetLeft,o=e.pageY-t.offsetTop;c?(r.w+=r.x-n,r.h+=r.y-o,r.x=n,r.y=o):d?(r.w=Math.abs(r.x-n),r.h+=r.y-o,r.y=o):u?(r.w+=r.x-n,r.h=Math.abs(r.y-o),r.x=n):f&&(r.w=Math.abs(r.x-n),r.h=Math.abs(r.y-o));y()}),!1);var r={x:0,y:0,w:n.clientWidth,h:n.clientHeight};function v(e,t){return Math.abs(e-t)<20}function y(){if(!l)throw Error("Not able to create canvas");l.clearRect(0,0,o.width,o.height),l.fillStyle="rgba(0, 0, 0, 0.5)",l.strokeStyle="#00ff00",l.lineWidth=5,l.fillRect(0,0,o.width,o.height),l.clearRect(r.x,r.y,r.w,r.h),l.beginPath(),l.moveTo(r.x,r.y+20),l.lineTo(r.x,r.y),l.lineTo(r.x+20,r.y),l.moveTo(r.x+r.w-20,r.y),l.lineTo(r.x+r.w,r.y),l.lineTo(r.x+r.w,r.y+20),l.moveTo(r.x+r.w,r.y+r.h-20),l.lineTo(r.x+r.w,r.y+r.h),l.lineTo(r.x+r.w-20,r.y+r.h),l.moveTo(r.x+20,r.y+r.h),l.lineTo(r.x,r.y+r.h),l.lineTo(r.x,r.y+r.h-20),l.stroke(),e.cropImageRLT&&e.cropImageRLT(h())}h=function(){var e=s.width/o.width,t=s.height/o.height,n=r.x*e,i=r.y*t,l=r.w*e,h=r.h*t;a.width=l,a.height=h;var c=a.getContext("2d");if(!c)throw Error("Not able to create canvas");return c.drawImage(s,n,i,l,h,0,0,l,h),a.toDataURL("image/jpeg")},y()},function(){return h()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9odG1sQ2FudmFzSW1nUmVzaXplci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9odG1sQ2FudmFzSW1nUmVzaXplci8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJpbWFnZURpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpZCIsIkVycm9yIiwiY29udGFpbmVyRGl2IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaW1hZ2VDYW52YXMiLCJjcm9wQ2FudmFzIiwiZXhwb3J0Q2FudmFzIiwiaW1hZ2VDdHgiLCJnZXRDb250ZXh0IiwiY3JvcENhbnZhc0N0eCIsImdldENyb3BJbWFnZSIsImRyYWdUb3BMZWZ0IiwiZHJhZ0JvdHRvbUxlZnQiLCJkcmFnVG9wUmlnaHQiLCJkcmFnQm90dG9tUmlnaHQiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiaW1hZ2VVUkwiLCJvbmxvYWQiLCJ3aWR0aCIsImhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZHJhd0ltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJtb3VzZVgiLCJwYWdlWCIsIm9mZnNldExlZnQiLCJtb3VzZVkiLCJwYWdlWSIsIm9mZnNldFRvcCIsIndpbmRvdyIsImNoZWNrRHJhZ2FibGUiLCJzZWxlY3Rpb24iLCJ4IiwieSIsInciLCJoIiwiZHJhdyIsIk1hdGgiLCJhYnMiLCJwMSIsInAyIiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJmaWxsUmVjdCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNyb3BJbWFnZVJMVCIsInNjYWxlWCIsInNjYWxlWSIsImV4cENhbnZhc0N0eCIsInRvRGF0YVVSTCJdLCJtYXBwaW5ncyI6InFDQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFV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QUNiLElBQU02QyxFQUFTeEMsRUFBTUssTUFBUWYsRUFBV2UsTUFDbENvQyxFQUFTekMsRUFBTU0sT0FBU2hCLEVBQVdnQixPQUNuQ2UsRUFBSUQsRUFBVUMsRUFBSW1CLEVBQ2xCbEIsRUFBSUYsRUFBVUUsRUFBSW1CLEVBQ2xCcEMsRUFBUWUsRUFBVUcsRUFBSWlCLEVBQ3RCbEMsRUFBU2MsRUFBVUksRUFBSWlCLEVBQzdCbEQsRUFBYWMsTUFBUUEsRUFDckJkLEVBQWFlLE9BQVNBLEVBQ3RCLElBQU1vQyxFQUFlbkQsRUFBYUUsV0FBVyxNQUM3QyxJQUFLaUQsRUFDSCxNQUFNMUQsTUFBTSw2QkFHZCxPQURBMEQsRUFBYWpDLFVBQVVULEVBQU9xQixFQUFHQyxFQUFHakIsRUFBT0MsRUFBUSxFQUFHLEVBQUdELEVBQU9DLEdBQ3pEZixFQUFhb0QsVUFBVSxlQTJIaENsQixLQUVLLFdBQ0wsT0FBTzlCIiwiZmlsZSI6Imh0bWwtY2FudmFzLWltZy1yZXNpemVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImludGVyZmFjZSBPcHJpb25zIHtcbiAgaWQ6IHN0cmluZztcbiAgaW1hZ2VVUkw6IHN0cmluZztcbiAgY3JvcEltYWdlUkxUPzogKGRhdGFVcmw6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnM6IE9wcmlvbnMpID0+IHtcbiAgY29uc3QgaW1hZ2VEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmlkKTtcbiAgaWYgKCFpbWFnZURpdikge1xuICAgIHRocm93IEVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGh0bWwgZWxlbWVudCBJZCB0byB3b3JrIHdpdGgnKTtcbiAgfVxuICBjb25zdCBjb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyRGl2LnNldEF0dHJpYnV0ZShcbiAgICAnc3R5bGUnLFxuICAgICd3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgcG9zaXRpb246cmVsYXRpdmUnXG4gICk7XG4gIGltYWdlRGl2LmFwcGVuZENoaWxkKGNvbnRhaW5lckRpdik7XG4gIGNvbnN0IGltYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGltYWdlQ2FudmFzLnNldEF0dHJpYnV0ZShcbiAgICAnc3R5bGUnLFxuICAgICdtYXgtd2lkdGg6MTAwJTsgbWF4LWhlaWdodDoxMDAlOyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjA7IGxlZnQ6MCdcbiAgKTtcbiAgY29uc3QgY3JvcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjcm9wQ2FudmFzLnNldEF0dHJpYnV0ZShcbiAgICAnc3R5bGUnLFxuICAgICdtYXgtd2lkdGg6MTAwJTsgbWF4LWhlaWdodDoxMDAlOyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjA7IGxlZnQ6MCdcbiAgKTtcbiAgY29uc3QgZXhwb3J0Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGV4cG9ydENhbnZhcy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xuICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQoaW1hZ2VDYW52YXMpO1xuICBjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQoY3JvcENhbnZhcyk7XG4gIGNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChleHBvcnRDYW52YXMpO1xuICBjb25zdCBpbWFnZUN0eCA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGlmICghaW1hZ2VDdHgpIHtcbiAgICB0aHJvdyBFcnJvcignTm90IGFibGUgdG8gY3JlYXRlIGNhbnZhcycpO1xuICB9XG4gIGNvbnN0IGNyb3BDYW52YXNDdHggPSBjcm9wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGlmICghY3JvcENhbnZhc0N0eCkge1xuICAgIHRocm93IEVycm9yKCdOb3QgYWJsZSB0byBjcmVhdGUgY2FudmFzJyk7XG4gIH1cbiAgbGV0IGdldENyb3BJbWFnZTogKCkgPT4gc3RyaW5nID0gKCkgPT4gJyc7XG4gIGxldCBkcmFnVG9wTGVmdCA9IGZhbHNlO1xuICBsZXQgZHJhZ0JvdHRvbUxlZnQgPSBmYWxzZTtcbiAgbGV0IGRyYWdUb3BSaWdodCA9IGZhbHNlO1xuICBsZXQgZHJhZ0JvdHRvbVJpZ2h0ID0gZmFsc2U7XG4gIGNvbnN0IGRyYWdCb3hTaXplID0gMjA7XG4gIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gIGltYWdlLnNyYyA9IG9wdGlvbnMuaW1hZ2VVUkw7XG4gIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICBpbWFnZUNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICAgIGltYWdlQ2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICBjcm9wQ2FudmFzLndpZHRoID0gaW1hZ2VDYW52YXMuY2xpZW50V2lkdGg7XG4gICAgY3JvcENhbnZhcy5oZWlnaHQgPSBpbWFnZUNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gICAgaW1hZ2VDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICBjcm9wQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgIGNyb3BDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlVXAsIGZhbHNlKTtcbiAgICBjcm9wQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZSwgZmFsc2UpO1xuXG4gICAgY29uc3Qgc2VsZWN0aW9uID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3OiBpbWFnZUNhbnZhcy5jbGllbnRXaWR0aCxcbiAgICAgIGg6IGltYWdlQ2FudmFzLmNsaWVudEhlaWdodCxcbiAgICB9O1xuXG4gICAgZ2V0Q3JvcEltYWdlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc2NhbGVYID0gaW1hZ2Uud2lkdGggLyBjcm9wQ2FudmFzLndpZHRoO1xuICAgICAgY29uc3Qgc2NhbGVZID0gaW1hZ2UuaGVpZ2h0IC8gY3JvcENhbnZhcy5oZWlnaHQ7XG4gICAgICBjb25zdCB4ID0gc2VsZWN0aW9uLnggKiBzY2FsZVg7XG4gICAgICBjb25zdCB5ID0gc2VsZWN0aW9uLnkgKiBzY2FsZVk7XG4gICAgICBjb25zdCB3aWR0aCA9IHNlbGVjdGlvbi53ICogc2NhbGVYO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gc2VsZWN0aW9uLmggKiBzY2FsZVk7XG4gICAgICBleHBvcnRDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIGV4cG9ydENhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBjb25zdCBleHBDYW52YXNDdHggPSBleHBvcnRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGlmICghZXhwQ2FudmFzQ3R4KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdOb3QgYWJsZSB0byBjcmVhdGUgY2FudmFzJyk7XG4gICAgICB9XG4gICAgICBleHBDYW52YXNDdHguZHJhd0ltYWdlKGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHJldHVybiBleHBvcnRDYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICBpZiAoIWltYWdlRGl2KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdOb3QgYWJsZSB0byBjcmVhdGUgY2FudmFzJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBtb3VzZVggPSBlLnBhZ2VYIC0gaW1hZ2VEaXYub2Zmc2V0TGVmdDtcbiAgICAgIGNvbnN0IG1vdXNlWSA9IGUucGFnZVkgLSBpbWFnZURpdi5vZmZzZXRUb3A7XG4gICAgICAod2luZG93IGFzIGFueSkuY3JvcENhbnZhcyA9IGNyb3BDYW52YXM7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2hlY2tEcmFnYWJsZShtb3VzZVgsIHNlbGVjdGlvbi54KSAmJlxuICAgICAgICBjaGVja0RyYWdhYmxlKG1vdXNlWSwgc2VsZWN0aW9uLnkpXG4gICAgICApIHtcbiAgICAgICAgZHJhZ1RvcExlZnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY2hlY2tEcmFnYWJsZShtb3VzZVgsIHNlbGVjdGlvbi54ICsgc2VsZWN0aW9uLncpICYmXG4gICAgICAgIGNoZWNrRHJhZ2FibGUobW91c2VZLCBzZWxlY3Rpb24ueSlcbiAgICAgICkge1xuICAgICAgICBkcmFnVG9wUmlnaHQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY2hlY2tEcmFnYWJsZShtb3VzZVgsIHNlbGVjdGlvbi54KSAmJlxuICAgICAgICBjaGVja0RyYWdhYmxlKG1vdXNlWSwgc2VsZWN0aW9uLnkgKyBzZWxlY3Rpb24uaClcbiAgICAgICkge1xuICAgICAgICBkcmFnQm90dG9tTGVmdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBjaGVja0RyYWdhYmxlKG1vdXNlWCwgc2VsZWN0aW9uLnggKyBzZWxlY3Rpb24udykgJiZcbiAgICAgICAgY2hlY2tEcmFnYWJsZShtb3VzZVksIHNlbGVjdGlvbi55ICsgc2VsZWN0aW9uLmgpXG4gICAgICApIHtcbiAgICAgICAgZHJhZ0JvdHRvbVJpZ2h0ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRHJhZ2FibGUocDE6IG51bWJlciwgcDI6IG51bWJlcikge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHAxIC0gcDIpIDwgZHJhZ0JveFNpemU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW91c2VVcCgpIHtcbiAgICAgIGRyYWdUb3BMZWZ0ID0gZHJhZ1RvcFJpZ2h0ID0gZHJhZ0JvdHRvbUxlZnQgPSBkcmFnQm90dG9tUmlnaHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgaWYgKCFpbWFnZURpdikge1xuICAgICAgICB0aHJvdyBFcnJvcignTm90IGFibGUgdG8gY3JlYXRlIGNhbnZhcycpO1xuICAgICAgfVxuICAgICAgY29uc3QgbW91c2VYID0gZS5wYWdlWCAtIGltYWdlRGl2Lm9mZnNldExlZnQ7XG4gICAgICBjb25zdCBtb3VzZVkgPSBlLnBhZ2VZIC0gaW1hZ2VEaXYub2Zmc2V0VG9wO1xuICAgICAgaWYgKGRyYWdUb3BMZWZ0KSB7XG4gICAgICAgIHNlbGVjdGlvbi53ICs9IHNlbGVjdGlvbi54IC0gbW91c2VYO1xuICAgICAgICBzZWxlY3Rpb24uaCArPSBzZWxlY3Rpb24ueSAtIG1vdXNlWTtcbiAgICAgICAgc2VsZWN0aW9uLnggPSBtb3VzZVg7XG4gICAgICAgIHNlbGVjdGlvbi55ID0gbW91c2VZO1xuICAgICAgfSBlbHNlIGlmIChkcmFnVG9wUmlnaHQpIHtcbiAgICAgICAgc2VsZWN0aW9uLncgPSBNYXRoLmFicyhzZWxlY3Rpb24ueCAtIG1vdXNlWCk7XG4gICAgICAgIHNlbGVjdGlvbi5oICs9IHNlbGVjdGlvbi55IC0gbW91c2VZO1xuICAgICAgICBzZWxlY3Rpb24ueSA9IG1vdXNlWTtcbiAgICAgIH0gZWxzZSBpZiAoZHJhZ0JvdHRvbUxlZnQpIHtcbiAgICAgICAgc2VsZWN0aW9uLncgKz0gc2VsZWN0aW9uLnggLSBtb3VzZVg7XG4gICAgICAgIHNlbGVjdGlvbi5oID0gTWF0aC5hYnMoc2VsZWN0aW9uLnkgLSBtb3VzZVkpO1xuICAgICAgICBzZWxlY3Rpb24ueCA9IG1vdXNlWDtcbiAgICAgIH0gZWxzZSBpZiAoZHJhZ0JvdHRvbVJpZ2h0KSB7XG4gICAgICAgIHNlbGVjdGlvbi53ID0gTWF0aC5hYnMoc2VsZWN0aW9uLnggLSBtb3VzZVgpO1xuICAgICAgICBzZWxlY3Rpb24uaCA9IE1hdGguYWJzKHNlbGVjdGlvbi55IC0gbW91c2VZKTtcbiAgICAgIH1cbiAgICAgIGRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgaWYgKCFjcm9wQ2FudmFzQ3R4KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdOb3QgYWJsZSB0byBjcmVhdGUgY2FudmFzJyk7XG4gICAgICB9XG4gICAgICBjcm9wQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCBjcm9wQ2FudmFzLndpZHRoLCBjcm9wQ2FudmFzLmhlaWdodCk7XG4gICAgICBjcm9wQ2FudmFzQ3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuNSknO1xuICAgICAgY3JvcENhbnZhc0N0eC5zdHJva2VTdHlsZSA9ICcjMDBmZjAwJztcbiAgICAgIGNyb3BDYW52YXNDdHgubGluZVdpZHRoID0gNTtcbiAgICAgIGNyb3BDYW52YXNDdHguZmlsbFJlY3QoMCwgMCwgY3JvcENhbnZhcy53aWR0aCwgY3JvcENhbnZhcy5oZWlnaHQpO1xuICAgICAgY3JvcENhbnZhc0N0eC5jbGVhclJlY3QoXG4gICAgICAgIHNlbGVjdGlvbi54LFxuICAgICAgICBzZWxlY3Rpb24ueSxcbiAgICAgICAgc2VsZWN0aW9uLncsXG4gICAgICAgIHNlbGVjdGlvbi5oXG4gICAgICApO1xuICAgICAgY3JvcENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgIGNyb3BDYW52YXNDdHgubW92ZVRvKHNlbGVjdGlvbi54LCBzZWxlY3Rpb24ueSArIGRyYWdCb3hTaXplKTtcbiAgICAgIGNyb3BDYW52YXNDdHgubGluZVRvKHNlbGVjdGlvbi54LCBzZWxlY3Rpb24ueSk7XG4gICAgICBjcm9wQ2FudmFzQ3R4LmxpbmVUbyhzZWxlY3Rpb24ueCArIGRyYWdCb3hTaXplLCBzZWxlY3Rpb24ueSk7XG4gICAgICBjcm9wQ2FudmFzQ3R4Lm1vdmVUbyhcbiAgICAgICAgc2VsZWN0aW9uLnggKyBzZWxlY3Rpb24udyAtIGRyYWdCb3hTaXplLFxuICAgICAgICBzZWxlY3Rpb24ueVxuICAgICAgKTtcbiAgICAgIGNyb3BDYW52YXNDdHgubGluZVRvKHNlbGVjdGlvbi54ICsgc2VsZWN0aW9uLncsIHNlbGVjdGlvbi55KTtcbiAgICAgIGNyb3BDYW52YXNDdHgubGluZVRvKFxuICAgICAgICBzZWxlY3Rpb24ueCArIHNlbGVjdGlvbi53LFxuICAgICAgICBzZWxlY3Rpb24ueSArIGRyYWdCb3hTaXplXG4gICAgICApO1xuICAgICAgY3JvcENhbnZhc0N0eC5tb3ZlVG8oXG4gICAgICAgIHNlbGVjdGlvbi54ICsgc2VsZWN0aW9uLncsXG4gICAgICAgIHNlbGVjdGlvbi55ICsgc2VsZWN0aW9uLmggLSBkcmFnQm94U2l6ZVxuICAgICAgKTtcbiAgICAgIGNyb3BDYW52YXNDdHgubGluZVRvKFxuICAgICAgICBzZWxlY3Rpb24ueCArIHNlbGVjdGlvbi53LFxuICAgICAgICBzZWxlY3Rpb24ueSArIHNlbGVjdGlvbi5oXG4gICAgICApO1xuICAgICAgY3JvcENhbnZhc0N0eC5saW5lVG8oXG4gICAgICAgIHNlbGVjdGlvbi54ICsgc2VsZWN0aW9uLncgLSBkcmFnQm94U2l6ZSxcbiAgICAgICAgc2VsZWN0aW9uLnkgKyBzZWxlY3Rpb24uaFxuICAgICAgKTtcbiAgICAgIGNyb3BDYW52YXNDdHgubW92ZVRvKFxuICAgICAgICBzZWxlY3Rpb24ueCArIGRyYWdCb3hTaXplLFxuICAgICAgICBzZWxlY3Rpb24ueSArIHNlbGVjdGlvbi5oXG4gICAgICApO1xuICAgICAgY3JvcENhbnZhc0N0eC5saW5lVG8oc2VsZWN0aW9uLngsIHNlbGVjdGlvbi55ICsgc2VsZWN0aW9uLmgpO1xuICAgICAgY3JvcENhbnZhc0N0eC5saW5lVG8oXG4gICAgICAgIHNlbGVjdGlvbi54LFxuICAgICAgICBzZWxlY3Rpb24ueSArIHNlbGVjdGlvbi5oIC0gZHJhZ0JveFNpemVcbiAgICAgICk7XG4gICAgICBjcm9wQ2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgb3B0aW9ucy5jcm9wSW1hZ2VSTFQgJiYgb3B0aW9ucy5jcm9wSW1hZ2VSTFQoZ2V0Q3JvcEltYWdlKCkpO1xuICAgIH1cblxuICAgIGRyYXcoKTtcbiAgfTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICByZXR1cm4gZ2V0Q3JvcEltYWdlKCk7XG4gIH07XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==