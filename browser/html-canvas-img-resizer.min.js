var htmlCanvasImgResizer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.default=function(e){var t=e.dragCornerBoxSize||20,n=e.cropImageWatcher,o=e.cropMaskColor||"rgba(0, 0, 0, 0.5)",a=e.cropCornerColor||"green",i=e.cropCornerLineWidth||5,s=document.getElementById(e.id);if(!s)throw Error("Please provide a valid html element Id to work with");var d=document.createElement("div");d.setAttribute("style","width:100%; height:100%; position:relative"),s.appendChild(d);var l=document.createElement("canvas");l.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var h=document.createElement("canvas");h.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var u=document.createElement("canvas");u.setAttribute("style","display:none");var p=document.createElement("div"),c=document.createElement("div"),f=document.createElement("div"),v=document.createElement("div"),x=document.createElement("div");v.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: sw-resize; background: transparent; stroke: transparent;"),f.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: se-resize; background: transparent; stroke: transparent;"),c.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: ne-resize; background: transparent; stroke: transparent;"),p.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: nw-resize; background: transparent; stroke: transparent;"),x.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: all-scroll; background: transparent; stroke: transparent;"),d.appendChild(u),d.appendChild(l),d.appendChild(h),d.appendChild(x),d.appendChild(v),d.appendChild(f),d.appendChild(c),d.appendChild(p);var y=l.getContext("2d");if(!y)throw Error("Not able to create canvas");var m=h.getContext("2d");if(!m)throw Error("Not able to create canvas");var g,w=u.getContext("2d");if(!w)throw Error("Not able to create canvas");var b=!1,E=!1,L=!1,C=!1,T=!1,k=new Image;return k.src=e.imageURL,k.onload=function(){l.width=k.width,l.height=k.height,h.width=l.offsetWidth,h.height=l.offsetHeight,h.addEventListener("mouseup",W,!1),h.addEventListener("mousemove",A,!1),y.drawImage(k,0,0),v.addEventListener("mousedown",(function(){E=!0}),!1),v.addEventListener("mouseup",W,!1),v.addEventListener("mousemove",A,!1),p.addEventListener("mousedown",(function(){b=!0}),!1),p.addEventListener("mouseup",W,!1),p.addEventListener("mousemove",A,!1),c.addEventListener("mousedown",(function(){L=!0}),!1),c.addEventListener("mouseup",W,!1),c.addEventListener("mousemove",A,!1),f.addEventListener("mousedown",(function(){C=!0}),!1),f.addEventListener("mouseup",W,!1),f.addEventListener("mousemove",A,!1),x.addEventListener("mousedown",(function(){T=!0}),!1),x.addEventListener("mouseup",W,!1),x.addEventListener("mousemove",A,!1);var e={x:0,y:0,w:l.offsetWidth,h:l.offsetHeight},d=r({canvasWidth:l.offsetWidth,canvasHeight:l.offsetHeight},e);function W(){b=L=E=C=T=!1}setInterval((function(){var t=l.offsetWidth,n=l.offsetHeight;if(d.canvasHeight!=n||d.canvasWidth!=t){var o=t/d.canvasWidth,a=n/d.canvasHeight;d=r(r({},e),{canvasHeight:n,canvasWidth:t}),h.width=t,h.height=n,e.w*=o,e.h*=a,I()}}),500),g=function(){var t=k.width/h.width,r=k.height/h.height,o=e.x*t,a=e.y*r,i=e.w*t,s=e.h*r;u.width=i,u.height=s,w.drawImage(k,o,a,i,s,0,0,i,s),n&&n(u.toDataURL())};var O=0,j=0;function A(t){if(!s)throw Error("Not able to create canvas");var n=t.pageX-s.offsetLeft,r=t.pageY-s.offsetTop;b?(e.w+=e.x-n,e.h+=e.y-r,e.x=n,e.y=r):L?(e.w=Math.abs(e.x-n),e.h+=e.y-r,e.y=r):E?(e.w+=e.x-n,e.h=Math.abs(e.y-r),e.x=n):C?(e.w=Math.abs(e.x-n),e.h=Math.abs(e.y-r)):T&&(e.x+=n-O,e.y+=r-j),e.x<0&&(e.x=0),e.x+e.w>h.width&&(e.x=h.width-e.w),e.y<0&&(e.y=0),e.y+e.h>h.height&&(e.y=h.height-e.h),O=n,j=r,I()}function I(){if(!m)throw Error("Not able to create canvas");m.clearRect(0,0,h.width,h.height),m.fillStyle=o,m.strokeStyle=a,m.lineWidth=i,m.fillRect(0,0,h.width,h.height),m.clearRect(e.x,e.y,e.w,e.h),m.beginPath(),m.moveTo(e.x,e.y+t),m.lineTo(e.x,e.y),m.lineTo(e.x+t,e.y),m.moveTo(e.x+e.w-t,e.y),m.lineTo(e.x+e.w,e.y),m.lineTo(e.x+e.w,e.y+t),m.moveTo(e.x+e.w,e.y+e.h-t),m.lineTo(e.x+e.w,e.y+e.h),m.lineTo(e.x+e.w-t,e.y+e.h),m.moveTo(e.x+t,e.y+e.h),m.lineTo(e.x,e.y+e.h),m.lineTo(e.x,e.y+e.h-t),m.stroke(),p.style.top=c.style.top=e.y+"px",p.style.left=v.style.left=e.x+"px",c.style.left=f.style.left=e.x+e.w-t+"px",v.style.top=f.style.top=e.y+e.h-t+"px",x.style.top=e.y+"px",x.style.left=e.x+"px",x.style.width=e.w+"px",x.style.height=e.h+"px",g()}I()},{getImage:function(){return u.toDataURL()}}}}]);
//# sourceMappingURL=html-canvas-img-resizer.min.js.map