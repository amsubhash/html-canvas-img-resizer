var htmlCanvasImgResizer=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.default=function(e){var t=e.dragCornerBoxSize||20,n=e.cropImageWatcher,r=e.cropMaskColor||"rgba(0, 0, 0, 0.5)",i=e.cropCornerColor||"green",a=e.cropCornerLineWidth||5,s=document.getElementById(e.id);if(!s)throw Error("Please provide a valid html element Id to work with");var d=document.createElement("div");d.setAttribute("style","width:100%; height:100%; position:relative"),s.appendChild(d);var h=document.createElement("canvas");h.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var l=document.createElement("canvas");l.setAttribute("style","max-width:100%; max-height:100%; position:absolute; top:0; left:0");var u=document.createElement("canvas");u.setAttribute("style","display:none");var p=document.createElement("div"),c=document.createElement("div"),f=document.createElement("div"),v=document.createElement("div"),x=document.createElement("div");v.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: sw-resize; background: transparent; stroke: transparent;"),f.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: se-resize; background: transparent; stroke: transparent;"),c.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: ne-resize; background: transparent; stroke: transparent;"),p.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: nw-resize; background: transparent; stroke: transparent;"),x.setAttribute("style","position: absolute; width: "+t+"px; height: "+t+"px; top: 0px; left: 0px; cursor: all-scroll; background: transparent; stroke: transparent;"),d.appendChild(u),d.appendChild(h),d.appendChild(l),d.appendChild(x),d.appendChild(v),d.appendChild(f),d.appendChild(c),d.appendChild(p);var y=h.getContext("2d");if(!y)throw Error("Not able to create canvas");var m=l.getContext("2d");if(!m)throw Error("Not able to create canvas");var g,w=u.getContext("2d");if(!w)throw Error("Not able to create canvas");var b=!1,E=!1,L=!1,C=!1,T=!1,k=new Image;return e.imageURL&&(k.src=e.imageURL),k.onload=function(){0===s.offsetWidth&&(s.style.width=k.width+"px"),0===s.offsetHeight&&(s.style.height=k.height+"px"),h.width=k.width,h.height=k.height,l.width=h.offsetWidth,l.height=h.offsetHeight,l.addEventListener("mouseup",W,!1),l.addEventListener("mousemove",H,!1),y.drawImage(k,0,0),v.addEventListener("mousedown",(function(){E=!0}),!1),v.addEventListener("mouseup",W,!1),v.addEventListener("mousemove",H,!1),p.addEventListener("mousedown",(function(){b=!0}),!1),p.addEventListener("mouseup",W,!1),p.addEventListener("mousemove",H,!1),c.addEventListener("mousedown",(function(){L=!0}),!1),c.addEventListener("mouseup",W,!1),c.addEventListener("mousemove",H,!1),f.addEventListener("mousedown",(function(){C=!0}),!1),f.addEventListener("mouseup",W,!1),f.addEventListener("mousemove",H,!1),x.addEventListener("mousedown",(function(){T=!0}),!1),x.addEventListener("mouseup",W,!1),x.addEventListener("mousemove",H,!1);var e={x:0,y:0,w:h.offsetWidth,h:h.offsetHeight},d=o({canvasWidth:h.offsetWidth,canvasHeight:h.offsetHeight},e);function W(){b=L=E=C=T=!1}setInterval((function(){var t=h.offsetWidth,n=h.offsetHeight;if(d.canvasHeight!=n||d.canvasWidth!=t){var r=t/d.canvasWidth,i=n/d.canvasHeight;d=o(o({},e),{canvasHeight:n,canvasWidth:t}),l.width=t,l.height=n,e.w*=r,e.h*=i,M()}}),500),g=function(){var t=k.width/l.width,o=k.height/l.height,r=e.x*t,i=e.y*o,a=e.w*t,s=e.h*o;u.width=a,u.height=s,w.drawImage(k,r,i,a,s,0,0,a,s),n&&n(u.toDataURL())};var I=0,O=0,j=0,A=0;function H(n){if(!s)throw Error("Not able to create canvas");var o=n.pageX-s.offsetLeft,r=n.pageY-s.offsetTop,i=!1;b?(e.w+=e.x-o,e.h+=e.y-r,e.x=o,e.y=r,i=!0):L?(e.w=Math.abs(e.x-o),e.h+=e.y-r,e.y=r,i=!0):E?(e.w+=e.x-o,e.h=Math.abs(e.y-r),e.x=o,i=!0):C?(e.w=Math.abs(e.x-o),e.h=Math.abs(e.y-r),i=!0):T&&(e.x+=o-I,e.y+=r-O,i=!0),i&&(e.w<2*t&&(e.w=2*t,e.x=j),e.h<2*t&&(e.h=2*t,e.y=A),e.x<0&&(e.x=0),e.x+e.w>l.width&&(e.x=l.width-e.w),e.y<0&&(e.y=0),e.y+e.h>l.height&&(e.y=l.height-e.h),M()),I=o,O=r,j=e.x,A=e.y}function M(){if(!m)throw Error("Not able to create canvas");m.clearRect(0,0,l.width,l.height),m.fillStyle=r,m.strokeStyle=i,m.lineWidth=a,m.fillRect(0,0,l.width,l.height),m.clearRect(e.x,e.y,e.w,e.h),m.beginPath(),m.moveTo(e.x,e.y+t),m.lineTo(e.x,e.y),m.lineTo(e.x+t,e.y),m.moveTo(e.x+e.w-t,e.y),m.lineTo(e.x+e.w,e.y),m.lineTo(e.x+e.w,e.y+t),m.moveTo(e.x+e.w,e.y+e.h-t),m.lineTo(e.x+e.w,e.y+e.h),m.lineTo(e.x+e.w-t,e.y+e.h),m.moveTo(e.x+t,e.y+e.h),m.lineTo(e.x,e.y+e.h),m.lineTo(e.x,e.y+e.h-t),m.stroke(),p.style.top=c.style.top=e.y+"px",p.style.left=v.style.left=e.x+"px",c.style.left=f.style.left=e.x+e.w-t+"px",v.style.top=f.style.top=e.y+e.h-t+"px",x.style.top=e.y+"px",x.style.left=e.x+"px",x.style.width=e.w+"px",x.style.height=e.h+"px",g()}M()},{getImage:function(){return u.toDataURL()},setImageURL:function(e){k.src=e}}}}]);
//# sourceMappingURL=html-canvas-img-resizer.min.js.map